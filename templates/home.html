{% extends "base.html" %}
{% block content %}
<!-- Share data with map.js -->
<script type="text/javascript">
	var candidateData = JSON.parse('{{ candidates|tojson }}');
	var stateData = JSON.parse('{{ states|tojson }}'); // stateData[0].results[x] -- x=0 is percentage, x=1 is delegates (once appended)
	const totalDelegates = '{{ total_delegates }}';
</script>

<h2>Democratic Party Presidential Primary 2020</h2>

<!-- Candidate Selection Buttons -->
<div class="candidates">
	<div class="btn-group" role="group" aria-label="..." data-toggle="buttons">
		<label class="btn btn-default" role="group">
			<input type="radio" name="candidate" value="Custom" checked>Custom
		</label>
		{% for candidate in candidates %}
		<label class="btn btn-default" role="group">
			<input type="radio" name="candidate" value="{{ candidate.name }}">{{ candidate.name }}
		</label>
		{% endfor %}
	</div>
	<button type="button" class="btn btn-danger" id="reset-map">Reset</button>
</div>

<!-- United States Map -->
<div class="map">
	<svg width="960" height="600"></svg>
	<script src="{{ url_for('static', filename='js/map.js')}}" type="text/javascript"></script>
</div>

<!-- State Results Configuration Options-->
<div class="state-options">
	<div class="panel panel-default">
		<!-- State Info header -->
		<div class="panel-heading" id="state-options-info"></div>
		<!-- Table -->
		<table class="table table-condensed">
			<tbody>
				<!-- State Delegates Available to be Assigned -->
				<div class="delegates-available"></div>
				<!-- Rows for candidate results -->
				<div class="state-options-rows"></div>
			</tbody>
		</table>
	</div>
</div>

<!-- Total Delegate Count Pie Chart -->
<div class="pie">
	<div id="pie-chart"></div>
	<script src="{{ url_for('static', filename='js/pie.js')}}" type="text/javascript"></script>
	<div class="refresh-button">
		<button type="button" class="btn btn-default btn-md" id="refresh">
			<span class="glyphicon glyphicon-refresh"></span> Refresh!
		</button>
	</div>
</div>
{% endblock %}
